<ion-header *ngIf="!id">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title class="text-center position-relative">
      <h1>Noticias</h1>
      <img class="fondo-titulo position-absolute" src="../../assets/img/fondo-naranja.svg">
    </ion-title>
    <ion-buttons slot="end">
      <ion-icon name="search" (click)="doIt()" class="mx-3"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="!id" class="position-relative">
    <img class="img-fluid w-100" src="../../assets/img/noticias/header.jpg">
    <h1 class="position-absolute title-top">Â¡BIENVENIDOS A <br> <b>NUESTRA</b> APP!</h1>
  </div>

  <div *ngIf="id" class="position-relative bg-image" [ngStyle]="{'background-image': 'url('+ singleNoticia.url_banner +')'}">
    <div class="d-flex align-items-around w-100 container-icons">
      <ion-buttons (click)="getAllNews()" class="px-3 pt-5">
          <ion-icon name="arrow-back"></ion-icon>
      </ion-buttons>
      <ion-buttons  class="px-3 pt-5 ml-auto">
        <ion-icon name="open"></ion-icon>
      </ion-buttons>
    </div>
    <div class="text-noticia p-4 mw-85">
      <h2 class="desc-noticia">
        {{singleNoticia.title_categoria}} {{singleNoticia.noticia_desc}}
      </h2>
      <h2 class="title-noticia">
        {{singleNoticia.titulo}}
      </h2>
      <p class="noticia-extended">
        {{singleNoticia.noticia_extended}}
      </p>
      <div class="d-flex">
        <ion-buttons  class="">
          <ion-icon name="link"></ion-icon>
        </ion-buttons>
        <ng-container *ngFor="let img of singleNoticia.fotos; let i = index">
          <ion-thumbnail >
            <img [src]="img.src" class="px-2">
          </ion-thumbnail>    
        </ng-container>
      </div>
    </div>
  </div>

  <div *ngIf="noticias">
    <ion-grid *ngFor="let categoria of noticias">
      <ion-row>
        <ion-col size="2">
          <span>
            {{categoria.title_categoria}}
          </span>
        </ion-col>
        <ion-col size="9">
          <ion-list *ngFor="let noticia of categoria.noticias">
            <ion-item (click)="getOneNew(noticia.id_noticia)">
              <ion-avatar class="d-flex  align-items-center justify-content-center" slot="start">
                <img src="{{noticia.url_icon}}">
              </ion-avatar>
              <ion-label>
                <ion-grid>
                  <ion-row>
                    <ion-col size="8">
                      <h2>{{noticia.titulo}}</h2>
                      <p>{{noticia.noticia_desc}}</p>
                    </ion-col>
                    <ion-col size="4">
                      {{noticia.updated_at |  date:'dd/MMM/yy'}}
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-label>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <div *ngIf="!noticias">
    <ion-list>
      <ion-item>
        <ion-avatar slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-avatar>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-avatar slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-avatar>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-avatar slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-avatar>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-avatar slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-avatar>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-avatar slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-avatar>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-avatar slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-avatar>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>

</ion-content>
  